const { test, expect, chromium } = require('@playwright/test');


//  test.only("login",async({page})=>{
//   await page.goto("https://otest.anytimeastro.com/");
//   await page.locator("//span[@class='d-none d-lg-inline ml-2 text-nowrap']").click();
//   await page.locator("//div[@class='bottom text-center pt-md-3']").click();
//   await page.locator("//button[@id='wzrk-cancel']").click();
//   await page.locator("//div[@class='bottom text-center pt-md-3']//div//a[1]").click();
//   await page.locator("//input[@id='txtLoginEmail']").fill("vikrant@mailinator.com");
//   await page.locator("[class='form-control font-weight-normal  show validate border-left']").click();
//   await page.locator("[class='form-control font-weight-normal  show validate border-left']").fill("123");
//   await page.locator("//input[@id='btnLogin']").click();
//   await page.waitForResponse
  
//  })  // otest login test script
 
// test.only("login",async({page})=>{
//   await page.goto("https://www.saucedemo.com/");
//   await page.locator("//input[@placeholder='Username']").click();
//   await page.locator("//input[@placeholder='Username']").fill("standard_user");
//   await page.locator("//input[@placeholder='Password']").click();
//   await page.locator("//input[@placeholder='Password']").fill("secret_sauce");
//   await page.locator("//input[@id='login-button']").click();
//   await page.waitForURL("https://www.saucedemo.com/inventory.html")
//   await page.locator("//button[@id='add-to-cart-sauce-labs-backpack']").click();
//   await page.locator("//button[@id='add-to-cart-sauce-labs-fleece-jacket']").click();
//   await page.locator("//div[@id='shopping_cart_container']").click();
//   await page.waitForURL("https://www.saucedemo.com/cart.html")
//   await page.locator("//button[@id='checkout']").click();
//   await page.waitForURL("https://www.saucedemo.com/checkout-step-one.html")
//   await page.locator("//input[@id='first-name']").fill("gravity");
//   await page.locator("//input[@id='last-name']").fill("fall");
//   await page.locator("//input[@id='postal-code']").fill("95001");
//   await page.locator("//input[@id='continue']").click();
//   await page.waitForURL("https://www.saucedemo.com/checkout-step-two.html")
//   await page.locator("//button[@id='finish']").click();
//   await page.waitForURL("https://www.saucedemo.com/checkout-complete.html")
//   await page.locator("//button[@id='back-to-products']").click()
//   await page.waitForResponse
  
//  }) 
 



// test case for register with if-else condition
// test.only("Register",async({page})=>{
  
//     await page.goto("https://demowebshop.tricentis.com/");
//     await page.locator("//a[@class='ico-register']").click();
//     await page.waitForURL("https://demowebshop.tricentis.com/register")
//     await page.locator("//input[@id='gender-male']").click();
//     await page.locator("//input[@id='FirstName']").fill("Flame");
//     await page.locator("//input[@id='LastName']").fill("Emperor");
//     await page.locator("//input[@id='Email']").fill("flame1235555555555j46@tafmail.com");
//     await page.locator("//input[@id='Password']").fill("123456");
//     await page.locator("//input[@id='ConfirmPassword']").fill("123456");
//     await page.locator("//input[@id='register-button']").click();
//     await page.waitForURL("https://demowebshop.tricentis.com/registerresult/1");
//     console.log("Customer Successfully Registered");
//     await page.locator("//a[@class='ico-logout']").click();
//     await page.goto("https://demowebshop.tricentis.com/");
//     await page.locator("//a[@class='ico-login']").click();
//     await page.waitForURL("https://demowebshop.tricentis.com/login");
//     await page.locator("//input[@id='Email']").click();
//     await page.locator("//input[@id='Email']").fill("flame1234@tafmail.com");
//     await page.locator("//input[@id='Password']").click();
//     await page.locator("//input[@id='Password']").fill("123456");
//     await page.locator("//input[@class='button-1 login-button']").click();
//     // await page.waitForURL("https://demowebshop.tricentis.com/");
//     // await page.locator("//a[@class='ico-logout']").click();
//     // console.log("Customer sucessfully LoggedOut")
//     if (await page.isHidden("//a[@class='ico-logout']")) {
//       // Code to execute if the condition is true
//       console.log("True")
//     } else {
//       // Code to execute if the condition is false
//       console.log("False")
//     }
//    }) 
//    //await page.getByRole('button').isVisible();
   
   
   
// test.only("login",async({page})=>{
//     await page.goto("https://otest.anytimeastro.com/");
//     await page.locator("//span[@class='d-none d-lg-inline ml-2 text-nowrap']").click();
//     await page.locator("/html/body/div[1]/div[4]/div/div/div/div[2]/div/div/div/div[1]/form/div[5]/div/a[1]").click();
//     await page.locator("//input[@id='txtLoginEmail']").click();
//     await page.locator("//input[@id='txtLoginEmail']").fill("flame12@tafmail.com");
//     await page.locator("//input[@id='Password']").click();
//     await page.locator("//input[@id='Password']").fill("123");
//     await page.locator("//input[@id='btnLogin']").click();
//     await page.waitForURL("https://otest.anytimeastro.com/#")
//     await page.locator("//a[@id='chatPg']").click();
//     await page.waitForURL("https://otest.anytimeastro.com/chat-with-astrologer/?utm_source=astroweb&utm_campaign=site&utm_medium=AST5690_AST5561_RUNT")
//     await page.locator("//a[@id='psychic-8562-chat-btn']").click();
//     await page.locator("//input[@id='Mobile']").click();
//     await page.locator("//input[@id='Mobile']").fill("6222222222");
//     await page.waitForSelector("//input[@id='DOB']");
//     await page.click("//input[@id='DOB']");
   
   //})


  //     Replace 'desiredDateSelector' with the CSS selector or XPath expression that selects the specific date you want to choose
  //  const desiredDate = await page.waitForSelector('/html/body/div[1]/div[4]/div[13]/div/div/div/div/div/div[2]/div[3]/div[1]/div/div/div/div/section/div[1]/div[2]/div[3]/div[3]/span[3]');
  //  Click on the desired date within the date picker dialog to select it
  //  await desiredDate.click();


  // test.only("login",async({page})=>{
  //   await page.locator("//input[@id='TOB']");
  //   await page.waitForSelector("//input[@id='TOB']");
  //   await page.locator("/html/body/div[5]/div/section[2]/div[2]/span[2]").click();
  //   await page.locator("//input[@id='pdbc']").click();
  //   await page.locator("//input[@id='pdbc']").fill("jai");
  //   await page.waitForSelector("//input[@id='pdbc']");
  //   await page.locator("//div[@id='ui-id-3']").click();
  //   await page.locator("//select[@id='GenderId']").click();
  //   await page.waitForSelector("//select[@id='GenderId']");
  //   await page.locator("/html/body/div[1]/div[4]/div[13]/div/div/div/div/div/div[2]/div[4]/div[1]/div/select/option[2]").click();
  //   await page.locator("//select[@id='MaritalStatus']").click();
  //   await page.waitForSelector("//select[@id='MaritalStatus']");
  //   await page.locator("/html/body/div[1]/div[4]/div[13]/div/div/div/div/div/div[2]/div[4]/div[2]/div/select/option[3]").click();
  //   await page.locator("//button[@id='btnStartOperation']").click();
  //   await page.waitForURL("https://otest.anytimeastro.com/chat/?utm_source=astroweb&utm_campaign=site&utm_medium=AST5690_AST5561_RUNT")
  //   await page.locator("//textarea[@id='textarea-N_m2mCldUIDiolXeK4g']").click();
   
//   const { chromium } = require('playwright');

// expert list count and content filter 

// test.only("expert list count",async({page})=>{
    
  
//     await page.goto('https://www.anytimeastro.com/chat-with-astrologer/?x_base=chat&pxl=MPN5834_MPN5697_RUNT');
  
//     // Replace 'your-locator' with the actual locator you want to use (e.g., 'div', '.class', '#id', etc.)
    
//     // Overall locator full list 
//    // const Olocator = '//div[@data-psychic-id]';

//     // specified content filter 
//     const locator = '//span[contains(text(), "Top Rated")]';
  
//     // Find elements using the locator
//     const elements = await page.$$(locator);
  
//     // Get the count of found elements
//     const elementCount = elements.length;
  
//     console.log(`Number of elements with locator '${locator}': ${elementCount}`);

//     for (let i = 0; i < elementCount; i++) {
//       const textContent = await elements[i].textContent();
      
   
//         console.log(`Element ${i + 1} text content: ${textContent}`);
//     }  
    
//   });
  




 //FastSpring LP payment flow 
 test ("Post API of fastpring", async ({ request })  => {

const apiUrl = 'https://bitguardian.test.onfastspring.com/popup-bit-drvupdt/builder/finalize';

// Define the headers if needed (e.g., for authentication)
const headers = {
    'Origin': 'https://www.winriser.com',
    'Content-Type' : 'application/json'
  };

// Define the request data (if sending data)
  const requestData = {put: {"cartViewEnabled":true,"origin":"https://www.winriser.com/purchase/win-riser/plan/?","sblVersion":"0.8.2"},
  "session": "H4sIAAAAAAAAALVTyW7bMBD9lzlLheS0cqxbYBeNenAKp9kQ9TAgaYMoF4Wk7LiG_z0jKkrhoGhaAznxzTy-WckdLKVQ3EN5v-vhHLWAkrDzIeIEnHhopRMcyuBakUDj7Fryzl6i8mKfHEoVHqtktjXBbf8q7O3g0PjGukAqJ5hdGfmrS7hGJZ8vvQ4uNEr1_zU11gdUU8sP-4l33xQHfKz4ETqFZtXi6o2UR4-C5txY807BkcU1_kvXPygBlHkxmWRZnhej4mSUAKMY0-nF7HM6yigIM2RXc0KqW2JXdVgR2tXAnGHbGsqa-EUNSQ2hcZKJ6DqdfPqQZdErvUYWnb2tG8mjmY9Po6OheX8XpnW9tIhO5qz3HpV4xea_2UtiqyB013nkkKe0N8clmrRRrU8fvVDqUPDNWV71-YtRDXtqSMbv9wClaZVKgA9ADMANwAzAv1BCD8uiXANcv8ycYsP4OvtyrVR1icXJnb7QP8-Wd-MzStwQuZEmddILB90m36-I-fnXTXr18XbR6sUMz5c3s_HWbJ6L-PPgoHshlp7IPZ04hNs_AV7eCeW1BAAA"};
 //  RequestOptions 
 const requestOptions = {
   method: 'POST', // HTTP method (GET, POST, PUT, DELETE, etc.)
   headers: headers,
 body: JSON.stringify(requestData), // Convert data to JSON string if needed
};
const response = await request.fetch(apiUrl,requestOptions);

                  {
                console.log('API response:', response);
     


  }})

